{"name": "test_a[case11]", "status": "broken", "statusDetails": {"message": "TypeError: the JSON object must be str, bytes or bytearray, not list", "trace": "self = <interface.case.test_interface.TestClass object at 0x10304d588>\ncase = {'Runflag': 'Y', 'contain': '成功', 'contentType': 'json', 'data': '{\"attach\":\"{\\\\\"type\\\\\":\\\\\"gift\\\\\",\\\\\"id\\\\\":\\\\\"i011\\\\\"}\",\"roomid\":\"$roomid$\",\"msgType\":100,\"ext\":\"{\\\\\"role\\\\\":0}\",\"consumeType\":1,\"consumeValue\":10}', ...}\n\n    def test_a(self, case):\n        allure.description(case[\"title\"])\n        r = \"\"\n        url = getUrl(case[\"path\"], case[\"model\"], self.storage, r, case)\n        print(url)\n        data = getData(case[\"data\"], self.storage, r, case)\n        print(data)\n        with allure.step(\"发送请求\"):\n            allure.attach(\"请求方式\", case[\"method\"])\n            allure.attach('url', str(url))\n            allure.attach('data', str(data))\n        # try:\n        headers = self.headers\n>       r = request(case, url, data, headers)\n\ntest_interface.py:48: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../common/baseCase.py:148: in request\n    r = requests.post(url, json=json.loads(data), headers=headers)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ns = ['{\"attach\":\"{\\\\\"type\\\\\":\\\\\"gift\\\\\",\\\\\"id\\\\\":\\\\\"i011\\\\\"}\",\"roomid\":\"', 'roomid', '\",\"msgType\":100,\"ext\":\"{\\\\\"role\\\\\":0}\",\"consumeType\":1,\"consumeValue\":10}']\nencoding = None, cls = None, object_hook = None, parse_float = None\nparse_int = None, parse_constant = None, object_pairs_hook = None, kw = {}\n\n    def loads(s, *, encoding=None, cls=None, object_hook=None, parse_float=None,\n            parse_int=None, parse_constant=None, object_pairs_hook=None, **kw):\n        \"\"\"Deserialize ``s`` (a ``str``, ``bytes`` or ``bytearray`` instance\n        containing a JSON document) to a Python object.\n    \n        ``object_hook`` is an optional function that will be called with the\n        result of any object literal decode (a ``dict``). The return value of\n        ``object_hook`` will be used instead of the ``dict``. This feature\n        can be used to implement custom decoders (e.g. JSON-RPC class hinting).\n    \n        ``object_pairs_hook`` is an optional function that will be called with the\n        result of any object literal decoded with an ordered list of pairs.  The\n        return value of ``object_pairs_hook`` will be used instead of the ``dict``.\n        This feature can be used to implement custom decoders.  If ``object_hook``\n        is also defined, the ``object_pairs_hook`` takes priority.\n    \n        ``parse_float``, if specified, will be called with the string\n        of every JSON float to be decoded. By default this is equivalent to\n        float(num_str). This can be used to use another datatype or parser\n        for JSON floats (e.g. decimal.Decimal).\n    \n        ``parse_int``, if specified, will be called with the string\n        of every JSON int to be decoded. By default this is equivalent to\n        int(num_str). This can be used to use another datatype or parser\n        for JSON integers (e.g. float).\n    \n        ``parse_constant``, if specified, will be called with one of the\n        following strings: -Infinity, Infinity, NaN.\n        This can be used to raise an exception if invalid JSON numbers\n        are encountered.\n    \n        To use a custom ``JSONDecoder`` subclass, specify it with the ``cls``\n        kwarg; otherwise ``JSONDecoder`` is used.\n    \n        The ``encoding`` argument is ignored and deprecated.\n        \"\"\"\n        if isinstance(s, str):\n            if s.startswith('\\ufeff'):\n                raise JSONDecodeError(\"Unexpected UTF-8 BOM (decode using utf-8-sig)\",\n                                      s, 0)\n        else:\n            if not isinstance(s, (bytes, bytearray)):\n>               raise TypeError(f'the JSON object must be str, bytes or bytearray, '\n                                f'not {s.__class__.__name__}')\nE               TypeError: the JSON object must be str, bytes or bytearray, not list\n\n/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/json/__init__.py:341: TypeError"}, "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "POST", "source": "6f22c15d-098b-4684-a175-617b0acd8376-attachment.attach"}, {"name": "https://testschool.icourt.cc/live/api/v1/im/chatroom/sendgift", "source": "49761788-10d1-4e2f-8b75-ae071e907bef-attachment.attach"}, {"name": "['{\"attach\":\"{\\\\\"type\\\\\":\\\\\"gift\\\\\",\\\\\"id\\\\\":\\\\\"i011\\\\\"}\",\"roomid\":\"', 'roomid', '\",\"msgType\":100,\"ext\":\"{\\\\\"role\\\\\":0}\",\"consumeType\":1,\"consumeValue\":10}']", "source": "268b69f7-dc96-40f1-867a-2e6ae488669d-attachment.attach"}], "start": 1542619531727, "stop": 1542619531729}], "attachments": [{"name": "log", "source": "0ae28177-ae39-4e88-aac4-e7e9f710b090-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "d601e120-7033-4ff5-80dd-a2164076f8dc-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "988f6dfa-d766-40d3-8255-5a080ca8a6df-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case", "value": "{'id': 728, 'Runflag': 'Y', 'title': '发送礼物', 'path': 'live/api/v1/im/chatroom/sendgift', 'model': '法学院', 'verifycode': '', 'method': 'POST', 'data': '{\"attach\":\"{\\\\\"type\\\\\":\\\\\"gift\\\\\",\\\\\"id\\\\\":\\\\\"i011\\\\\"}\",\"roomid\":\"$roomid$\",\"msgType\":100,\"ext\":\"{\\\\\"role\\\\\":0}\",\"consumeType\":1,\"consumeValue\":10}', 'filePath': '', 'expection': '', 'save': '', 'contain': '成功', 'datapath': '', 'contentType': 'json', 'out': ''}"}], "start": 1542619531723, "stop": 1542619531729, "uuid": "ed6ab135-3a5b-45a5-8cf3-1108f4a5969d", "historyId": "28264cb137eac7d7e803afa8293a9407", "fullName": "test_interface.TestClass#test_a[case11]"}