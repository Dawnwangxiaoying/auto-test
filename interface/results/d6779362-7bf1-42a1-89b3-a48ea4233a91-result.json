{"name": "test_a[case10]", "status": "broken", "statusDetails": {"message": "TypeError: the JSON object must be str, bytes or bytearray, not list", "trace": "self = <interface.case.test_interface.TestClass object at 0x103128588>\ncase = {'Runflag': 'Y', 'contain': '成功', 'contentType': 'json', 'data': '{\"attach\":\"[愉快]\",\"roomid\":\"$roomid$\",\"msgType\":1,\"ext\":\"{\\\\\"role\\\\\":0}\",\"msgId\":\"$msgId$\"}', ...}\n\n    def test_a(self, case):\n        allure.description(case[\"title\"])\n        r = \"\"\n        url = getUrl(case[\"path\"], case[\"model\"], self.storage, r, case)\n        print(url)\n        data = getData(case[\"data\"], self.storage, r, case)\n        print(data)\n        with allure.step(\"发送请求\"):\n            allure.attach(\"请求方式\", case[\"method\"])\n            allure.attach('url', str(url))\n            allure.attach('data', str(data))\n        # try:\n        headers = self.headers\n>       r = request(case, url, data, headers)\n\ntest_interface.py:48: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../common/baseCase.py:148: in request\n    r = requests.post(url, json=json.loads(data), headers=headers)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ns = ['{\"attach\":\"[愉快]\",\"roomid\":\"', 'roomid', '\",\"msgType\":1,\"ext\":\"{\\\\\"role\\\\\":0}\",\"msgId\":\"', 'msgId', '\"}']\nencoding = None, cls = None, object_hook = None, parse_float = None\nparse_int = None, parse_constant = None, object_pairs_hook = None, kw = {}\n\n    def loads(s, *, encoding=None, cls=None, object_hook=None, parse_float=None,\n            parse_int=None, parse_constant=None, object_pairs_hook=None, **kw):\n        \"\"\"Deserialize ``s`` (a ``str``, ``bytes`` or ``bytearray`` instance\n        containing a JSON document) to a Python object.\n    \n        ``object_hook`` is an optional function that will be called with the\n        result of any object literal decode (a ``dict``). The return value of\n        ``object_hook`` will be used instead of the ``dict``. This feature\n        can be used to implement custom decoders (e.g. JSON-RPC class hinting).\n    \n        ``object_pairs_hook`` is an optional function that will be called with the\n        result of any object literal decoded with an ordered list of pairs.  The\n        return value of ``object_pairs_hook`` will be used instead of the ``dict``.\n        This feature can be used to implement custom decoders.  If ``object_hook``\n        is also defined, the ``object_pairs_hook`` takes priority.\n    \n        ``parse_float``, if specified, will be called with the string\n        of every JSON float to be decoded. By default this is equivalent to\n        float(num_str). This can be used to use another datatype or parser\n        for JSON floats (e.g. decimal.Decimal).\n    \n        ``parse_int``, if specified, will be called with the string\n        of every JSON int to be decoded. By default this is equivalent to\n        int(num_str). This can be used to use another datatype or parser\n        for JSON integers (e.g. float).\n    \n        ``parse_constant``, if specified, will be called with one of the\n        following strings: -Infinity, Infinity, NaN.\n        This can be used to raise an exception if invalid JSON numbers\n        are encountered.\n    \n        To use a custom ``JSONDecoder`` subclass, specify it with the ``cls``\n        kwarg; otherwise ``JSONDecoder`` is used.\n    \n        The ``encoding`` argument is ignored and deprecated.\n        \"\"\"\n        if isinstance(s, str):\n            if s.startswith('\\ufeff'):\n                raise JSONDecodeError(\"Unexpected UTF-8 BOM (decode using utf-8-sig)\",\n                                      s, 0)\n        else:\n            if not isinstance(s, (bytes, bytearray)):\n>               raise TypeError(f'the JSON object must be str, bytes or bytearray, '\n                                f'not {s.__class__.__name__}')\nE               TypeError: the JSON object must be str, bytes or bytearray, not list\n\n/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/json/__init__.py:341: TypeError"}, "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "POST", "source": "660735f9-5b6e-410c-a756-b49a80a206de-attachment.attach"}, {"name": "https://testschool.icourt.cc/live/api/v1/im/chatroom/savemsg", "source": "dfd7a74a-2e72-40bd-bc97-0f89111568af-attachment.attach"}, {"name": "['{\"attach\":\"[愉快]\",\"roomid\":\"', 'roomid', '\",\"msgType\":1,\"ext\":\"{\\\\\"role\\\\\":0}\",\"msgId\":\"', 'msgId', '\"}']", "source": "84d882b3-0f51-45f9-8bfe-52bb9ead7669-attachment.attach"}], "start": 1542619531539, "stop": 1542619531540}], "attachments": [{"name": "log", "source": "c16d96e4-08b4-411a-a288-3ef65e52fa8d-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "cce9a8a9-1f3f-4564-8e70-eb3100ee67ef-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "5d05a9bb-dab3-4e6c-8c9a-75b443534333-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case", "value": "{'id': 727, 'Runflag': 'Y', 'title': '发送表情', 'path': 'live/api/v1/im/chatroom/savemsg', 'model': '法学院', 'verifycode': '', 'method': 'POST', 'data': '{\"attach\":\"[愉快]\",\"roomid\":\"$roomid$\",\"msgType\":1,\"ext\":\"{\\\\\"role\\\\\":0}\",\"msgId\":\"$msgId$\"}', 'filePath': '', 'expection': '', 'save': '', 'contain': '成功', 'datapath': '', 'contentType': 'json', 'out': ''}"}], "start": 1542619531537, "stop": 1542619531540, "uuid": "b2ecdcea-91b3-494a-b086-cd0a591a4d87", "historyId": "6faec6e9f35b7c237c352a333a45c51a", "fullName": "test_interface.TestClass#test_a[case10]"}